{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Documents/nodejs-country/client_home/pages/account/register.vue?bbb2","webpack:///C:/Users/Administrator/Documents/nodejs-country/client_home/pages/account/register.vue?67dd","webpack:///C:/Users/Administrator/Documents/nodejs-country/client_home/pages/account/register.vue?9841","webpack:///C:/Users/Administrator/Documents/nodejs-country/client_home/pages/account/register.vue?1ce7","uni-app:///pages/account/register.vue","webpack:///C:/Users/Administrator/Documents/nodejs-country/client_home/pages/account/register.vue?fb4f","webpack:///C:/Users/Administrator/Documents/nodejs-country/client_home/pages/account/register.vue?84a3"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","form_regular_users","mixins","data","url_submit","form","nickname","username","password","email","user_group","form_sub","confirm_password","rules","required","errorMessage","minLength","maxLength","format","list_user_group","methods","as","bl","all","Object","getObj","obj","getVal","handleSubFormChange","submit","param","pm","msg","ret","submit_before","submit_check","email_regular","console","mobile_phone_number_phone_regular","p","res","submit_after","name","get_register","submit_sub","_this","setTimeout","select_group","get_list_user_group","handleBlur","value","type","onLoad","onReady"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AAC0M;AAC1M,gBAAgB,iNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,aAAa,4NAEN;AACP,KAAK;AACL;AACA,aAAa,4QAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAwyB,CAAgB,syBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC4H5zB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAIA;EACAC;IACA;IACAC;EACA;EACAC;EACAC;IACA;MACAC;MAEAC;QACAC;QACAC;QACAC;QACAC;QACA;QACAC;MACA;MAEAC;MAEA;MACAC;MAEA;MACAC;QACAN;UACAM,QACA;YACAC;YACAC;UACA,GACA;YACAC;YACAC;YACAF;UACA;QAEA;QACAP;UACAK,QACA;YACAC;YACAC;UACA,GACA;YACAC;YACAC;YACAF;UACA;QAEA;QACAH;UACAC,QACA;YACAC;YACAC;UACA,GACA;YACAC;YACAC;YACAF;UACA;QAEA;QACAT;UACAO,QACA;YACAG;YACAC;YACAF;UACA;QAEA;QACAN;UACAI,QACA;YACAK;YACAH;UACA;QAEA;QACAL;UACAG,QACA;YACAC;YACAC;UACA;QAEA;MACA;MAEA;MACAI;IACA;EACA;EACAC;IACAC;MACA;QACA;QACA;QACA;UACA;UACAC;QACA;UACAA;QACA;UACA;UACA;UACA;YACA;YACAA;UACA;YACA;YACA;cACA;gBACAA;gBACA;cACA;YACA;UACA;QACA;UACA;UACA,IACAC,OACAC,2CACAA,0CACA;YACA;YACAF;UACA;YACA;YACA;cACA;gBACAA;gBACA;cACA;YACA;UACA;QACA;QACA;MACA;QACA;MACA;IACA;IACAG;MACA;MACA;QACA;UACA;UACA;YACAC;YACA;UACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;kBACAC;gBACA;gBACA;gBACAC,wEACA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBAGA;gBACA;kBACA;gBACA;kBACA;kBACAC;gBACA;gBACA;gBAAA,iCACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;AACA;AACA;AACA;IACAC;MACA;MACA,4BACA;IACA;IAEA;AACA;AACA;AACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAF;gBAEAG,sEACA;gBAEA;gBACA7B;gBAEAK;gBAEAyB,YACA,uDACA9B,UACAC,UACAC,OACAH,UACAI,WACA;gBAEA;kBACAuB;gBACA;kBACAA;gBACA;kBACAA;gBACA;kBACAA;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBACA;gBACA;gBACA;gBAAA,KACA;kBACAA;gBACA;kBACAA;gBACA;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBAAA,MACAvB;kBAAA;kBAAA;gBAAA;gBACAC;gBACA2B,oCACA;gBAAA,MAEA3B,gCACA,wCACAA,6BACA;kBAAA;kBAAA;gBAAA;gBAAA,kCAEA;cAAA;gBAKA4B;kBAAAhC;gBAAA;gBAAA,IAEA0B;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAO;gBAEA;kBACAP;gBACA;cAAA;gBAAA,kCAGAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAQ;MACA;MACA;MAEA;QACAC;MACA;MAEA;QACA;MACA,QACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAC;MAAA;MACA;MACA;QACA;UACAhC;UACA;QACA;UACA0B;UACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAO;MAAA;MACA;MACA;QACA;UACAC;UACAC;YACA;UACA;QACA;UACAT;UACA;QACA;MACA;IACA;IAEA;IACAU;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA,UACA,2DACA,IACA;QACA;UACA;QACA;UACAX;UACA;QACA;MACA,EACA;IACA;IACAY;MACA;QAAAC;QAAAC;MAAA;IACA;EACA;EACAC;IACA;EACA;EACAC;AACA;AAAA,2B;;;;;;;;;;;;AC/eA;AAAA;AAAA;AAAA;AAAyoC,CAAgB,mmCAAG,EAAC,C;;;;;;;;;;;ACA7pC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/account/register.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/account/register.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./register.vue?vue&type=template&id=0c670b84&\"\nvar renderjs\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/account/register.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=template&id=0c670b84&\"","var components\ntry {\n  components = {\n    uniForms: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-forms/uni-forms\" */ \"@/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniFormsItem: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-forms-item/uni-forms-item\" */ \"@/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    uniEasyinput: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-easyinput/uni-easyinput\" */ \"@/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"page_account\" id=\"account_register\">\n    <view>\n      <view class=\"mm_container\">\n        <view class=\"row\">\n          <view class=\"col-12 col-sm-6 col-md-4 col-xl-3\">\n            <view class=\"register_view\">\n              <uni-forms\n                class=\"form_register\"\n                :rules=\"rules\"\n                :value=\"form\"\n                ref=\"form\"\n                validate-trigger=\"bind\"\n                err-show-type=\"undertext\"\n              >\n                <view class=\"title\">\n                  <text>注册</text>\n                </view>\n\n                <uni-forms-item\n                  class=\"username\"\n                  name=\"username\"\n                  required\n                  label=\"账号\"\n                >\n                  <uni-easyinput\n                    type=\"text\"\n                    :inputBorder=\"true\"\n                    v-model=\"form.username\"\n                    placeholder=\"请输入账号\"\n                  ></uni-easyinput>\n                </uni-forms-item>\n\n                <uni-forms-item\n                  class=\"password\"\n                  name=\"password\"\n                  required\n                  label=\"密码\"\n                >\n                  <uni-easyinput\n                    type=\"password\"\n                    :inputBorder=\"true\"\n                    v-model=\"form.password\"\n                    placeholder=\"请输入密码\"\n                  ></uni-easyinput>\n                </uni-forms-item>\n\n                <uni-forms-item\n                  class=\"confirm_password\"\n                  name=\"confirm_password\"\n                  required\n                  label=\"确认密码\"\n                >\n                  <uni-easyinput\n                    type=\"password\"\n                    :inputBorder=\"true\"\n                    v-model=\"confirm_password\"\n                    placeholder=\"请再次输入密码\"\n                  ></uni-easyinput>\n                </uni-forms-item>\n\n                <uni-forms-item class=\"nickname\" name=\"nickname\" label=\"昵称\">\n                  <uni-easyinput\n                    type=\"text\"\n                    v-model=\"form.nickname\"\n                    placeholder=\"请输入昵称\"\n                  >\n                  </uni-easyinput>\n                </uni-forms-item>\n\n                <uni-forms-item name=\"email\" label=\"邮箱\">\n                  <uni-easyinput\n                    type=\"email\"\n                    v-model=\"form.email\"\n                    placeholder=\"请输入邮箱\"\n                  >\n                  </uni-easyinput>\n                </uni-forms-item>\n\n                <uni-forms-item\n                  class=\"user_group\"\n                  name=\"user_group\"\n                  label=\"身份\"\n                >\n                  <view class=\"group_selector\">\n                    <picker\n                      mode=\"selector\"\n                      :range=\"list_user_group\"\n                      range-key=\"name\"\n                      @change=\"select_group\"\n                    >\n                      {{ form.user_group ? form.user_group : '选择身份' }}\n                      <uni-icons\n                        style=\"padding-left: 0.5rem\"\n                        type=\"arrowdown\"\n                        size=\"16\"\n                      >\n                      </uni-icons>\n                    </picker>\n                  </view>\n                </uni-forms-item>\n\n                <!-- 普通用户 -->\n                <form_regular_users\n                  v-if=\"form.user_group === '普通用户'\"\n                  @change=\"handleSubFormChange\"\n                  :form=\"form_sub\"\n                ></form_regular_users>\n\n                <view class=\"btn_register\" @click=\"submit()\">立即注册</view>\n                <view class=\"btn_all\">\n                  <navigator url=\"./login\">返回登录</navigator>\n                  <navigator url=\"./forgot\">忘记密码</navigator>\n                </view>\n              </uni-forms>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport mixin from '@/libs/mixins/page.js'\n/* 普通用户 */\nimport form_regular_users from '@/components/diy/form_regular_users'\n\nexport default {\n  components: {\n    /* 普通用户 */\n    form_regular_users,\n  },\n  mixins: [mixin],\n  data() {\n    return {\n      url_submit: '~/api/user/register?',\n\n      form: {\n        nickname: '',\n        username: '',\n        password: '',\n        email: '',\n        // phone: '',\n        user_group: '',\n      },\n\n      form_sub: {},\n\n      // 确认密码\n      confirm_password: '',\n\n      // 校验\n      rules: {\n        username: {\n          rules: [\n            {\n              required: true,\n              errorMessage: '请输入用户名',\n            },\n            {\n              minLength: 5,\n              maxLength: 16,\n              errorMessage: '用户名长度在 {minLength} 到 {maxLength} 个字符',\n            },\n          ],\n        },\n        password: {\n          rules: [\n            {\n              required: true,\n              errorMessage: '请输入密码',\n            },\n            {\n              minLength: 5,\n              maxLength: 16,\n              errorMessage: '密码长度在 {minLength} 到 {maxLength} 个字符',\n            },\n          ],\n        },\n        confirm_password: {\n          rules: [\n            {\n              required: true,\n              errorMessage: '请输入确认密码',\n            },\n            {\n              minLength: 5,\n              maxLength: 16,\n              errorMessage: '确认密码长度在 {minLength} 到 {maxLength} 个字符',\n            },\n          ],\n        },\n        nickname: {\n          rules: [\n            {\n              minLength: 2,\n              maxLength: 12,\n              errorMessage: '昵称长度为{maxLength} 个字符',\n            },\n          ],\n        },\n        email: {\n          rules: [\n            {\n              format: 'email',\n              errorMessage: '请输入正确的邮箱地址',\n            },\n          ],\n        },\n        user_group: {\n          rules: [\n            {\n              required: true,\n              errorMessage: '请选择用户组',\n            },\n          ],\n        },\n      },\n\n      // 用户组列表\n      list_user_group: [],\n    }\n  },\n  methods: {\n    as(obj, query, all) {\n      if (obj) {\n        var bl = true\n        var type = typeof obj\n        if (type !== typeof query) {\n          // 如果类型不一致 则两个无相似\n          bl = false\n        } else if (type === 'string' || type === 'bool' || type === 'number') {\n          bl = obj === query\n        } else if (obj.constructor == Array) {\n          // 如果都是数组\n          var lh = obj.length\n          if (all && lh !== query.length) {\n            // 要求完全一致 而长度不一致 说明不相似\n            bl = false\n          } else {\n            // 否则判断数组里的每个成员是否相似\n            for (var i = 0; i < lh; i++) {\n              if (!this.as(obj[i], query[i])) {\n                bl = false\n                break\n              }\n            }\n          }\n        } else {\n          // 如果类型为对象\n          if (\n            all &&\n            Object.getOwnPropertyNames(obj).length !==\n              Object.getOwnPropertyNames(query).length\n          ) {\n            // 如果要求完全一致, 而属性长度不一致，则不相似\n            bl = false\n          } else {\n            // 否则都为对象则判断其值是否一致\n            for (var k in query) {\n              if (!this.as(obj[k], query[k], all)) {\n                bl = false\n                break\n              }\n            }\n          }\n        }\n        return bl\n      } else {\n        return false\n      }\n    },\n    getObj(data, query) {\n      var obj\n      if (query) {\n        for (var i = 0; i < data.length; i++) {\n          var o = data[i]\n          if (this.as(o, query)) {\n            obj = o\n            break\n          }\n        }\n      }\n      return obj\n    },\n    getVal(data, key, query) {\n      var obj = this.getObj(data, query)\n      if (obj) {\n        return obj[key]\n      } else {\n        return null\n      }\n    },\n    handleSubFormChange(data) {\n      this.form_sub[data.type] = data.value\n    },\n\n    /**\n     * 提交事件\n     * @param {Object} param 表单\n     * @param {Object} func 返回函数\n     */\n    async submit(param, func) {\n      //\n      if (!param) {\n        param = this.form\n      }\n      // 提交前事件\n      var pm = this.events('submit_before', Object.assign({}, param)) || param\n      // 提交前验证事件\n      var msg = await this.events('submit_check', pm)\n      var ret\n\n      // 判断错误\n      if (msg) {\n        this.$toast(msg, 'danger')\n      } else {\n        // 提交表单\n        ret = this.events('submit_main', pm, func)\n      }\n      // 返回结果\n      return ret\n    },\n    /**\n     * 提交前事件\n     * @param {Object} param\n     */\n    submit_before(param) {\n      var user_group = param.user_group\n      if (user_group === '普通用户') {\n      }\n    },\n\n    /**\n     * 提交前校验\n     * @param {Object} param\n     */\n    async submit_check(param) {\n      var ret = null\n\n      var email_regular = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/\n      // var phone_regular = /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/;\n\n      // var {username ,password ,nickname ,user_group ,email ,phone} = param;\n      var { username, password, nickname, user_group, email } = param\n\n      var confirm_password = this.confirm_password\n\n      console.log(\n        '表单校验username ,password ,email ,nickname ,user_group',\n        username,\n        password,\n        email,\n        nickname,\n        user_group\n      )\n\n      if (!username) {\n        ret = '账号不能为空'\n      } else if (username.length > 16 || username.length < 5) {\n        ret = '账号长度应为5到16个字符之间！'\n      } else if (!password) {\n        ret = '密码不能为空!'\n      } else if (password.length > 16 || password.length < 5) {\n        ret = '密码长度应为5到16个字符之间！'\n      } else if ((nickname && nickname.length > 12) || nickname.length < 2) {\n        ret = '昵称长度应为2个字符到12个字符之间'\n      } else if (email && !email_regular.test(email)) {\n        ret = '请输入正确的邮箱地址 例：test@test.com!'\n      }\n      // else if(phone && !phone_regular.test(phone)){\n      // \tret = \"请输入正确的手机号码 例：18955552312!\";\n      // }\n      else if (password != confirm_password) {\n        ret = '确认密码与密码不一致！'\n      } else if (!user_group) {\n        ret = '请选择用户组!'\n      }\n\n      if (!ret && user_group) {\n        if (user_group === '普通用户') {\n          var form_sub = Object.assign({}, this.form_sub)\n          let mobile_phone_number_phone_regular =\n            /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/\n          if (\n            form_sub.mobile_phone_number &&\n            !mobile_phone_number_phone_regular.test(\n              form_sub.mobile_phone_number\n            )\n          ) {\n            return '手机号格式错误'\n          }\n        }\n      }\n\n      var p = { username: param.username }\n\n      if (!ret) {\n        var res = await this.$get('~/api/user/count?', p)\n\n        if (res.result) {\n          ret = '用户已存在!'\n        }\n      }\n\n      return ret\n    },\n\n    /**\n     * 提交成功后\n     * @param {Object} json\n     * @param {Object} func\n     */\n    submit_after(json, func) {\n      var form = Object.assign({}, this.form)\n      delete form.password\n\n      var table = this.getVal(this.list_user_group, 'source_table', {\n        name: form.user_group,\n      })\n\n      if (table) {\n        this.get_register(form, table)\n      } else {\n      }\n    },\n\n    /**\n     * 获取注册表信息\n     * @param {Object} form\n     * @param {Object} table\n     */\n    get_register(form, table) {\n      var form_sub = this.form_sub\n      this.$get('~/api/user/get_obj?', form, (res) => {\n        if (res.result && res.result.obj) {\n          form_sub.user_id = res.result.obj.user_id\n          this.submit_sub(form_sub, table)\n        } else if (res.error) {\n          console.error(res.error)\n          this.$toast(res.error.message, 'error')\n        }\n      })\n    },\n\n    /**\n     *  提交附加信息\n     */\n    submit_sub(form, table) {\n      var _this = this\n      this.$post('~/api/' + table + '/add?', form, (res) => {\n        if (res.result) {\n          _this.$toast('注册成功!')\n          setTimeout(() => {\n            this.$nav('/pages/index/index')\n          }, 1000)\n        } else if (res.error) {\n          console.error(res.error)\n          this.$toast(res.error.message)\n        }\n      })\n    },\n\n    // 选择学校时触发\n    select_group(e) {\n      // 选中后会触发这个回调函数 e.target.value是你选中的下拉菜单数组的索引\n      const i = e.target.value // 将根据索引将你选中的学校名称在数组中找出来\n      var list = this.list_user_group\n      this.form.user_group = list[i].name\n    },\n\n    // 获取用户组\n    get_list_user_group() {\n      this.$get(\n        '~/api/user_group/get_list?register_min=2&register_max=3',\n        {},\n        (res) => {\n          if (res.result && res.result.list) {\n            this.list_user_group = res.result.list\n          } else if (res.error) {\n            console.error(res.error)\n            this.$toast(res.error.message)\n          }\n        }\n      )\n    },\n    handleBlur(value, type) {\n      this.$emit('change', { value, type })\n    },\n  },\n  onLoad() {\n    this.get_list_user_group()\n  },\n  onReady() {},\n}\n</script>\n\n<style>\n#account_register .mm_container {\n  padding: 2rem 1rem 0;\n}\n\n#account_register .row {\n  justify-content: center;\n}\n\n#account_register .register_view {\n  background-color: rgb(255, 255, 255, 0.8);\n  overflow: hidden;\n  border-radius: 0.5rem;\n}\n\n#account_register picker {\n  box-sizing: border-box;\n  font-size: 1rem;\n  width: 100%;\n  height: 2rem;\n  line-height: 2rem;\n  background-color: #fff;\n  border: 1px solid #ddd;\n  border-radius: 0.25rem;\n  text-align: center;\n}\n\n#account_register .title {\n  display: none;\n}\n\n#account_register .btn_register {\n  text-align: center;\n  padding: var(--padding_small);\n  background-color: var(--color_blue);\n  color: var(--color_white);\n  border-radius: var(--radius_small);\n  margin: var(--margin_base) 0;\n}\n\n#account_register .title {\n  display: block;\n  color: var(--color_primary_h);\n  padding-bottom: var(--padding_mini);\n  border-bottom: 2px solid var(--color_dark);\n  font-size: var(--font_big);\n  margin-bottom: var(--margin_base);\n}\n</style>\n","import mod from \"-!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1716129031481\n      var cssReload = require(\"C:/Users/Administrator/Downloads/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}